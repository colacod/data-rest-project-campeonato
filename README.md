# Project Rest
Projeto Desafio Competicao

## Spring Boot

## DBA

### Tabela Time

```
CREATE TABLE DB.TB_TIME (
    ID_TIME SMALLINT GENERATED ALWAYS AS IDENTITY PRIMARY KEY,
    NM_TIME_NOME VARCHAR(255) NOT NULL,
    TXT_TIME_ABRV VARCHAR(5) NOT NULL    
);
```


### Tabela Campeonato

```
CREATE TABLE DB.TB_CAMPEONATO (
   ID_CAMPEONATO SMALLINT GENERATED ALWAYS AS IDENTITY PRIMARY KEY,
	INT_LIMITE_TIMES INTEGER NOT NULL,
   INT_TOTAL_TIMES INTEGER NOT NULL,
	NM_CAMPEONATO VARCHAR(255) NOT NULL  
);
```

### Tabela Grupo

```
CREATE TABLE DB.TB_GRUPO (
   ID_GRUPO SMALLINT GENERATED ALWAYS AS IDENTITY PRIMARY KEY,
	NM_GRUPO VARCHAR(255) NOT NULL
);
```

### Tabela Playoff

```
CREATE TABLE DB.TB_PLAYOFF (
   	 ID_PLAYOFF SMALLINT GENERATED ALWAYS AS IDENTITY PRIMARY KEY,
    ID_CAMPEONATO_PLAYOFF INT NOT NULL,
    ID_GRUPO INT NOT NULL,
    ID_TIME_DOIS INT NOT NULL,
    ID_TIME_UM INT NOT NULL,
    CONSTRAINT FK_PLAYOFF_TIME_UM FOREIGN KEY (ID_TIME_UM)
    REFERENCES DB.TB_TIME(ID_TIME),
    CONSTRAINT FK_PLAYOFF_TIME_DOIS FOREIGN KEY (ID_TIME_DOIS)
    REFERENCES DB.TB_TIME(ID_TIME),		
    CONSTRAINT FK_PLAYOFF_CAMPEONATO FOREIGN KEY (ID_CAMPEONATO_PLAYOFF)
    REFERENCES DB.TB_CAMPEONATO(ID_CAMPEONATO),
    CONSTRAINT FK_PLAYOFF_GRUPO FOREIGN KEY (ID_GRUPO)
    REFERENCES DB.TB_GRUPO(ID_GRUPO),
    CONSTRAINT UK_PLAYOFF UNIQUE (ID_CAMPEONATO_PLAYOFF, ID_TIME_UM, ID_TIME_DOIS, ID_GRUPO)	
);
```

### Tabela Grupo Vinculo

```
CREATE TABLE DB.TB_GRUPO_VINCULO (
   ID_GRUPO_VINCULO SMALLINT GENERATED ALWAYS AS IDENTITY PRIMARY KEY,
	ID_CAMPEONATO_GRUPO INT NOT NULL,
	ID_GRUPO INT NOT NULL,
	ID_TIME INT NOT NULL,	
	CONSTRAINT FK_GRUPO_VINCULO_GRUPO FOREIGN KEY (ID_GRUPO)
    REFERENCES DB.TB_GRUPO(ID_GRUPO),
	CONSTRAINT FK_GRUPO_VINCULO_TIME FOREIGN KEY (ID_TIME)
    REFERENCES DB.TB_TIME(ID_TIME),
    CONSTRAINT FK_GRUPO_CAMPEONATO FOREIGN KEY (ID_CAMPEONATO_GRUPO)
    REFERENCES DB.TB_CAMPEONATO(ID_CAMPEONATO)
);
```

### Tabela Resultado

```
CREATE TABLE DB.TB_RESULTADO (
   ID_RESULTADO SMALLINT GENERATED ALWAYS AS IDENTITY PRIMARY KEY,
	INT_RESULTADO_TIME_DOIS INT NOT NULL,		
	INT_RESULTADO_TIME_UM INT NOT NULL,
	ID_CAMPEONATO_RESULTADO INT NOT NULL,    	
	ID_GRUPO INT NOT NULL,
	ID_TIME_DOIS INT NOT NULL,	
	ID_TIME_UM INT NOT NULL,
	ID_TIME_VENCEDOR INT NOT NULL,
	CONSTRAINT FK_RESULTADO_TIME_UM FOREIGN KEY (ID_TIME_UM)
    REFERENCES DB.TB_TIME(ID_TIME),	
	CONSTRAINT FK_RESULTADO_TIME_DOIS FOREIGN KEY (ID_TIME_DOIS)
    REFERENCES DB.TB_TIME(ID_TIME),
	CONSTRAINT FK_RESULTADO_TIME_VENCEDOR FOREIGN KEY (ID_TIME_VENCEDOR)
    REFERENCES DB.TB_TIME(ID_TIME),		
	CONSTRAINT FK_RESULTADO_CAMPEONATO FOREIGN KEY (ID_CAMPEONATO_RESULTADO)
    REFERENCES DB.TB_CAMPEONATO(ID_CAMPEONATO),	
	CONSTRAINT FK_RESULTADO_GRUPO FOREIGN KEY (ID_GRUPO)
    REFERENCES DB.TB_GRUPO(ID_GRUPO),		
	CONSTRAINT UK_RESULTADO UNIQUE (ID_CAMPEONATO_RESULTADO, ID_TIME_UM, ID_TIME_DOIS, ID_GRUPO)
);
```
