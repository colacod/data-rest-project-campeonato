# Project Rest
Projeto Desafio Competicao

## Spring Boot

## DBA

### Tabela Time

```
CREATE TABLE TB_TIME (
    ID_TIME INTEGER IDENTITY(1,1) PRIMARY KEY,
    NM_TIME_NOME varchar(255) NOT NULL,
    TXT_TIME_ABRV varchar(5) NOT NULL,    
);
```


### Tabela Campeonato

```
CREATE TABLE TB_CAMPEONATO (
    ID_CAMPEONATO INTEGER IDENTITY(1,1) PRIMARY KEY,
    INT_TOTAL_TIMES INTEGER NOT NULL,
	INT_LIMITE_TIMES INTEGER NOT NULL,
	NM_CAMPEONATO varchar(255) NOT NULL,  
);
```

### Tabela Grupo

```
CREATE TABLE TB_GRUPO (
    ID_GRUPO INTEGER IDENTITY(1,1) PRIMARY KEY,
	NM_GRUPO varchar(255) NOT NULL,
);
```

### Tabela Playoff

```
CREATE TABLE TB_PLAYOFF (
    ID_PLAYOFF INTEGER IDENTITY(1,1) PRIMARY KEY,
	ID_CAMPEONATO_PLAYOFF INTEGER NOT NULL,
	ID_GRUPO INTEGER NOT NULL,
	ID_TIME_UM INTEGER NOT NULL,
	ID_TIME_DOIS INTEGER NOT NULL,
	CONSTRAINT FK_PLAYOFF_TIME_UM FOREIGN KEY (ID_TIME_UM)
    REFERENCES TB_TIME(ID_TIME),
	CONSTRAINT FK_PLAYOFF_TIME_DOIS FOREIGN KEY (ID_TIME_DOIS)
    REFERENCES TB_TIME(ID_TIME),		
	CONSTRAINT FK_PLAYOFF_CAMPEONATO FOREIGN KEY (ID_CAMPEONATO_PLAYOFF)
    REFERENCES TB_CAMPEONATO(ID_CAMPEONATO),
	CONSTRAINT FK_PLAYOFF_GRUPO FOREIGN KEY (ID_GRUPO)
    REFERENCES TB_GRUPO(ID_GRUPO),
	CONSTRAINT UK_PLAYOFF UNIQUE (ID_CAMPEONATO_PLAYOFF, ID_TIME_UM, ID_TIME_DOIS, ID_GRUPO)	
);
```

### Tabela Grupo Vinculo

```
CREATE TABLE TB_GRUPO_VINCULO (
    ID_GRUPO_VINCULO INTEGER IDENTITY(1,1) PRIMARY KEY,	
	ID_GRUPO INTEGER NOT NULL,
	ID_TIME INTEGER NOT NULL,	
	ID_CAMPEONATO_GRUPO INTEGER NOT NULL,
	CONSTRAINT FK_GRUPO_VINCULO_GRUPO FOREIGN KEY (ID_GRUPO)
    REFERENCES TB_GRUPO(ID_GRUPO),
	CONSTRAINT FK_GRUPO_VINCULO_TIME FOREIGN KEY (ID_TIME)
    REFERENCES TB_TIME(ID_TIME),
    CONSTRAINT FK_GRUPO_CAMPEONATO FOREIGN KEY (ID_CAMPEONATO_GRUPO)
    REFERENCES TB_CAMPEONATO(ID_CAMPEONATO),
);
```

### Tabela Resultado

```
CREATE TABLE TB_RESULTADO (
    ID_RESULTADO INTEGER IDENTITY(1,1) PRIMARY KEY,		
	ID_CAMPEONATO_RESULTADO INTEGER NOT NULL,    	
	ID_TIME_UM INTEGER NOT NULL,
	ID_TIME_DOIS INTEGER NOT NULL,	
	ID_GRUPO INTEGER NOT NULL,
	ID_TIME_VENCEDOR INTEGER NOT NULL,
	INT_RESULTADO_TIME_UM INTEGER NOT NULL,
	INT_RESULTADO_TIME_DOIS INTEGER NOT NULL,		
	CONSTRAINT FK_RESULTADO_TIME_UM FOREIGN KEY (ID_TIME_UM)
    REFERENCES TB_TIME(ID_TIME),	
	CONSTRAINT FK_RESULTADO_TIME_DOIS FOREIGN KEY (ID_TIME_DOIS)
    REFERENCES TB_TIME(ID_TIME),
	CONSTRAINT FK_RESULTADO_TIME_VENCEDOR FOREIGN KEY (ID_TIME_VENCEDOR)
    REFERENCES TB_TIME(ID_TIME),		
	CONSTRAINT FK_RESULTADO_CAMPEONATO FOREIGN KEY (ID_CAMPEONATO_RESULTADO)
    REFERENCES TB_CAMPEONATO(ID_CAMPEONATO),	
	CONSTRAINT FK_RESULTADO_GRUPO FOREIGN KEY (ID_GRUPO)
    REFERENCES TB_GRUPO(ID_GRUPO),		
	CONSTRAINT UK_RESULTADO UNIQUE (ID_CAMPEONATO_RESULTADO, ID_TIME_UM, ID_TIME_DOIS, ID_GRUPO)
);
```
